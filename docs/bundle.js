var p=Object.defineProperty;var C=(n,t,a)=>t in n?p(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a;var s=(n,t,a)=>(C(n,typeof t!="symbol"?t+"":t,a),a);function b(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}class g{constructor(t){s(this,"_CONTENT_STRING",null);s(this,"_OBJECT_ID",null);this.SetId(t)}GetId(){return this._OBJECT_ID}SetId(t){this._OBJECT_ID=t}GetContentString(){return this._CONTENT_STRING}SetContentString(t){this._CONTENT_STRING=t}GetPDFStream(){return"1. 0.000000 0.000000 1. 50. 770. cm BT /F0 36. Tf (".concat(this.GetContentString(),") Tj ET")}}class R{constructor(){s(this,"_FONTS",[])}AddFontResource(t){this._FONTS.push(t)}GetFontResources(){return this._FONTS}}class _{}s(_,"PDF_OBJ_TYPE_PAGES","Pages"),s(_,"PDF_OBJ_TYPE_PAGE","Page"),s(_,"PDF_OBJ_TYPE_CATALOG","Catalog");class o{}s(o,"LETTER",{x:612,y:792}),s(o,"LEGAL",{x:612,y:1008}),s(o,"TABLOID",{x:792,y:1224}),s(o,"LEDGER",{x:1224,y:792}),s(o,"EXECUTIVE",{x:522,y:756}),s(o,"POSTCARD",{x:283,y:416}),s(o,"A1",{x:1684,y:2384}),s(o,"A2",{x:1191,y:1684}),s(o,"A3",{x:842,y:1191}),s(o,"A4",{x:595,y:842}),s(o,"A5",{x:420,y:595}),s(o,"A6",{x:297,y:420});class u{}s(u,"SINGLE_PAGE","SinglePage"),s(u,"ONE_COLUMN","OneColumn"),s(u,"TWO_COLUMN_LEFT","TwoColumnLeft"),s(u,"TWO_COLUMN_RIGHT","TwoColumnRight"),s(u,"TWO_PAGE_LEFT","TwoPageLeft"),s(u,"TWO_PAGE_RIGHT","TwoPageRight");class L{constructor(t="Times-Italic"){s(this,"_TYPE","Font");s(this,"_BASE_FONT","");s(this,"_SUB_TYPE","Type1");this.SetBaseFont(t)}GetType(){return this._TYPE}GetBaseFont(){return this._BASE_FONT}SetBaseFont(t){this._BASE_FONT=t}GetSubType(){return this._SUB_TYPE}}class D{constructor(t){s(this,"_PAGE_ID",null);s(this,"_PAGE_ROTATION",null);s(this,"_TYPE",null);s(this,"_CONTENT",[]);s(this,"_PAGE_SIZE",null);s(this,"_RESOURCE_CONTAINER",null);s(this,"_PAGE_LAYOUT_TYPE",null);s(this,"_PAGE_LAYOUT",null);this.SetId(t),this.SetPageRotation(0),this.SetPageSize(o.A4),this.SetPageType(_.PDF_OBJ_TYPE_PAGE),this.SetPageLayout(u.SINGLE_PAGE),this.SetupResourceContainer()}GetId(){return this._PAGE_ID}SetId(t){this._PAGE_ID=t}GetParentId(){return"".concat(this.GetParent().GetDocumentId()," 0 R")}GetPageRotation(){return this._PAGE_ROTATION}SetPageRotation(t){this._PAGE_ROTATION=t}GetParent(){return window.PDFDoc}GetContent(){return this._CONTENT}GetPageSize(){return this._PAGE_SIZE}SetPageSize(t){this._PAGE_SIZE=t}GetPageType(){return this._TYPE}SetPageType(t){this._TYPE=t}GetResourceContainer(){return this._RESOURCE_CONTAINER}SetResourceContainer(t){this._RESOURCE_CONTAINER=t}GetPageLayout(){return this._PAGE_LAYOUT_TYPE}SetPageLayout(t){this._PAGE_LAYOUT_TYPE=t}GetPageLayoutObject(){return this._PAGE_LAYOUT}AddContent(t){let a=new g(this.GetParent().GetNextAvailableObjectId());a.SetContentString(t),this._CONTENT.push(a)}SetupResourceContainer(){let t=new R,a=new L("Times-Italic");t.AddFontResource(a),this.SetResourceContainer(t)}MakePageLayoutObject(){let t=this.GetParent().GetNextAvailableObjectId();this._PAGE_LAYOUT={Id:t,PageId:"".concat(this.GetId()," 0 R"),Layout:this.GetPageLayout(),Type:_.PDF_OBJ_TYPE_CATALOG}}}class N{constructor(){s(this,"_LAST_OBJECT_ID",0);s(this,"_PAGES",[]);s(this,"_PAGE_LIST_DICTIONARY",null);s(this,"_TITLE",null);s(this,"_AUTHOR",null);s(this,"_PRODUCER",null);s(this,"_CREATION_DATE",null);s(this,"_MOD_DATE",null);this.SetLastObjectId(1),this.SetCreationDate(new Date),this.SetModDate(new Date)}GetLastObjectId(){return this._LAST_OBJECT_ID}GetNextAvailableObjectId(){let t=this.GetLastObjectId()+1;return this.SetLastObjectId(t),t}SetLastObjectId(t){this._LAST_OBJECT_ID=t}IncrementLastObjectId(){this._LAST_OBJECT_ID++}GetPages(){return this._PAGES}GetDocumentId(){return 1}GetPageListDictionary(){return this._PAGE_LIST_DICTIONARY}GetTitle(){return this._TITLE}SetTitle(t){this._TITLE=t}GetAuthor(){return this._AUTHOR}SetAuthor(t){this._AUTHOR=t}GetProducer(){return this._PRODUCER}SetProducer(t){this._PRODUCER=t}GetCreationDate(){return this._CREATION_DATE}GetCreationDateMetaData(){return"D:".concat(this.GetCreationDate().getFullYear())}SetCreationDate(t){this._CREATION_DATE=t}GetModDate(){return this._MOD_DATE}GetModDateMetaData(){let t=this.GetModDate();return"D:".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate()).concat(t.getHours()).concat(t.getMinutes()).concat(t.getSeconds(),"Z")}SetModDate(t){this._MOD_DATE=t}AddPage(t){if(!(t instanceof D))throw"You can only add instances of PDF Page to a PDF Document";this._PAGES.push(t)}BuildPageListDictionary(){try{let t=this._PAGES.length,a=1,e=this.GetPages().map(i=>"".concat(i.GetId()," 0 R")).join(" ");this._PAGE_LIST_DICTIONARY={Id:a,Kids:e,Type:_.PDF_OBJ_TYPE_PAGES,Count:t},this.IncrementLastObjectId()}catch(t){return console.log(t),!1}return!0}}class F{constructor(t){s(this,"_PAGE",null);s(this,"_CONTENT_ID_LIST",null);this.SetPage(t)}GetPage(){return this._PAGE}SetPage(t){this._PAGE=t}GetContentIdList(){return this._CONTENT_ID_LIST}SetContentIdList(t){this._CONTENT_ID_LIST=t}GetResourcePart(){let t=[],a=this.GetPage().GetResourceContainer().GetFontResources();for(let e=0;e<a.length;e++){let i=a[e];t.push("		<< /Font << /F".concat(e," << /BaseFont /").concat(i.GetBaseFont()," /Subtype /").concat(i.GetSubType()," /Type /").concat(i.GetType()," >> >> >>"))}return t}GetContentPart(){let t=[],a=this.GetPage().GetContent();for(let i=0;i<a.length;i++){let h=a[i];t.push("".concat(h.GetId()," 0 obj")),t.push("<< >>"),t.push("stream"),t.push("".concat(h.GetPDFStream())),t.push("endstream"),t.push("endobj")}let e=a.map(i=>"".concat(i.GetId()," 0 R"));return this.SetContentIdList(e.join(" ")),t}}class y{constructor(t,a,e){s(this,"_PDF_DOC_VERSION","1.1");s(this,"_DOC",null);s(this,"_LAST_PAGE_ID",0);this.SetDoc(new N),t&&this.GetDoc().SetTitle(t),a&&this.GetDoc().SetAuthor(a),this.GetDoc().SetProducer("F_OFF_PDF")}GetDoc(){return window.PDFDoc}SetDoc(t){window.PDFDoc=t}GetLastPageId(){return this._LAST_PAGE_ID}GetNextAvailablePageId(){return this.GetDoc().GetNextAvailableObjectId()}NewPage(){return new D(this.GetNextAvailablePageId())}AddPage(t){this.GetDoc().AddPage(t)}PrepPDFFile(){this.GetDoc().BuildPageListDictionary()}MakePDFFile(){this.PrepPDFFile();let t=this.GetDoc().GetPageListDictionary(),a=null,e=["%PDF-".concat(this._PDF_DOC_VERSION)];e.push("".concat(t.Id," 0 obj")),e.push("<< /Kids [".concat(t.Kids,"] /Type /").concat(t.Type," /Count ").concat(t.Count," >>")),e.push("endobj");let i=this.GetDoc().GetPages();for(let P=0;P<i.length;P++){let r=i[P];r.MakePageLayoutObject();let c=new F(r),d=c.GetResourcePart(),O=c.GetContentPart(),S=c.GetContentIdList(),E=r.GetPageSize();if(e.push(...O),e.push("".concat(r.GetId()," 0 obj")),e.push("<<"),e.push("	/Type /".concat(r.GetPageType())),e.push("	/Parent ".concat(r.GetParentId())),e.push("	/Rotate ".concat(r.GetPageRotation())),e.push("	/MediaBox [0 0 ".concat(E.x," ").concat(E.y,"]")),e.push("	/Resources"),e.push(...d),e.push("	/Contents [".concat(S,"]")),e.push(">>"),e.push("endobj"),a===null){let G=r.GetPageLayoutObject();e.push("".concat(G.Id," 0 obj")),e.push("<< /PageLayout /".concat(G.Layout," /Pages ").concat(this.GetDoc().GetDocumentId()," 0 R /Type /").concat(G.Type," >>")),e.push("endobj"),a=G.Id}}let h=this.GetNextAvailablePageId(),l=this.GetNextAvailablePageId();e.push("".concat(h," 0 obj")),e.push("<<"),e.push("	/Title (".concat(this.GetDoc().GetTitle(),")")),e.push("	/Author (".concat(this.GetDoc().GetAuthor(),")")),e.push("	/Producer (".concat(this.GetDoc().GetProducer(),")")),e.push("	/CreationDate (".concat(this.GetDoc().GetCreationDateMetaData(),")")),e.push("	/ModDate (".concat(this.GetDoc().GetModDateMetaData(),")")),e.push(">>"),e.push("endobj"),e.push("xref"),e.push("0 ".concat(l)),e.push("trailer"),e.push("<<"),e.push("	/Size ".concat(l)),e.push("	/Root ".concat(a," 0 R")),e.push("	/Info ".concat(h," 0 R")),e.push(">>"),e.push("startxref"),e.push("0"),e.push("%%EOF");let A=e.join("\n").replaceAll("	","  ");const I=encodeURI("data:application/pdf;charset=utf-8,"+A),T=document.createElement("a");T.setAttribute("href",I),T.setAttribute("download","data.pdf"),document.body.appendChild(T),T.click()}}/**
 * F-OFF PDF is a PDF library for developers who are tired of struggling with JS-PDF, HTML2PDF or even Puppeteer.
 * Don't get me wrong, those tools are great, but when you are having random issues like white space at the top of the
 * page or the text is not wrapping correctly, you will understand the pain.
 *
 * So without further ado, I present to you F-OFF PDF. A simple and easy to use PDF library that will make your life easier.
 * The library will eventually consume HTML and CSS to generate a PDF file.
 *
 * The library is still in development, but you can follow the progress on Github.
 *
 * @version 0.0.1
 * @author Jacques Koekemoer
 * @primary-contributor Bernard Muller
 * @license MIT
 */window.FuckOffPDF=function(n,t){let a=new y;return a.GetDoc().SetTitle(n),a.GetDoc().SetAuthor(t),a};export{b as __vite_legacy_guard};
